<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <title>Inchecken</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; }
        .hidden { display: none; }
        .message { color: green; font-weight: bold; }
    </style>
</head>
<body>
    <h1>Incheckformulier</h1>
    <div id="form-container">
        <form id="checkin-form">
            <label for="name">Naam:</label><br>
            <input type="text" id="name" name="name" required><br><br>
            <button type="submit">Inchecken</button>
        </form>
    </div>
    <div id="already-checked-in" class="hidden message">
        ‚è≥ Je hebt vandaag al ingecheckt!
    </div>
    <div id="thanks-message" class="hidden message">
        Bedankt voor het inchecken!
    </div>

    <script>
        function getTodayKey() {
            const today = new Date();
            // Format: YYYY-MM-DD
            const yyyy = today.getFullYear();
            const mm = String(today.getMonth() + 1).padStart(2, '0');
            const dd = String(today.getDate()).padStart(2, '0');
            return `checked_in_${yyyy}-${mm}-${dd}`;
        }

        document.addEventListener('DOMContentLoaded', function() {
            const form = document.getElementById('checkin-form');
            const formContainer = document.getElementById('form-container');
            const alreadyCheckedIn = document.getElementById('already-checked-in');
            const thanksMessage = document.getElementById('thanks-message');
            const todayKey = getTodayKey();

            if (localStorage.getItem(todayKey)) {
                // Student heeft vandaag al ingecheckt
                formContainer.classList.add('hidden');
                alreadyCheckedIn.classList.remove('hidden');
            } else {
                formContainer.classList.remove('hidden');
                alreadyCheckedIn.classList.add('hidden');
            }

            form.addEventListener('submit', function(e) {
                e.preventDefault();
                // Sla op dat gebruiker vandaag heeft ingecheckt
                localStorage.setItem(todayKey, 'true');
                formContainer.classList.add('hidden');
                thanksMessage.classList.remove('hidden');
                alreadyCheckedIn.classList.add('hidden');
            });
        });
    </script>
</body>
</html>
